<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<!-- 컨텐츠 고유 CSS 추가 -->
<th:block layout:fragment="css">
    <link rel="stylesheet" th:href="@{/assets/css/chartist/chartist.css}">
</th:block>

<!-- 컨텐츠 고유 스크립트 추가 -->
<th:block layout:fragment="script">
    <script th:src="@{/assets/vendors/chartist/chartist.js}"></script>
    <script th:src="@{/assets/vendors/chartist/chartist-bar-labels.js}"></script>
    <script type="text/javascript">
        let data1 = [1,2,3,4,5,6,7,8,9,10,11,12];
        let data2 = [2,3,4,5,6,7,8,9,10,11,12,13];
        let data3 = [3,4,5,6,7,8,9,10,11,12,13, 14];

        function multiLineLabels (data1, data2, data3) {
            new Chartist.Bar('#_barChart',
                {
                    labels: ['9:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00', '19:00', '20:00'],
                    series: [
                        { data: data1 },
                        { data: data2 },
                        { data: data3 }
                    ]
                },
                {
                    seriesBarDistance: 25,
                    axisX:  { offset: 30 },
                    axisY:  { offset: 20, scaleMinSpace: 10, onlyInteger: true },
                    plugins: [ Chartist.plugins.ctBarLabels() ]
                });


            new Chartist.Bar('#_processChart', {
                labels: ['응대율', '포기율'],
                series: [[84], [26] ]
                },
                {
                seriesBarDistance: 65,
                reverseData: true,
                horizontalBars: true,
                xisX: {
                    labelInterpolationFnc: function(value) {
                        return value + '%';
                    }
                },
                axisY: { offset: 70 },
                plugins: [ Chartist.plugins.ctBarLabels({
                    position: {
                        x: function (data) {
                            return data.x1 + 50
                        }
                    },
                    labelOffset: {
                        y: 7
                    },
                    labelInterpolationFnc: function (text) {
                        return text + '%'
                    }
                }) ]
            });


        }

        multiLineLabels(data1, data2, data3);
    </script>
</th:block>

<th:block layout:fragment="breadcrumb">
    <div class="content__wrap">
<!--
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="./index.html">Home</a></li>
                <li class="breadcrumb-item"><a href="./tables.html">Tables</a></li>
                <li class="breadcrumb-item active" aria-current="page">Static Tables</li>
            </ol>
        </nav>
        <h1 class="page-title mb-0 mt-2">Static Tables</h1>
        <p class="lead">
            A table is an arrangement of information or data, typically in rows and columns, or possibly in a more complex structure.
        </p>
-->
    </div>

</th:block>

<div layout:fragment="content" class="content__boxed">
    <div class="content__wrap">
        <div class="row">
            <div class="col-lg-12 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">실시간 콜현황</h5>
                        <div class="row">
                            <div class="col-sm-6 col-lg-3">
                                <div class="card bg-cyan text-white">
                                    <div class="card-body py-3 d-flex align-items-stretch">
                                        <div class="d-flex align-items-center justify-content-center flex-shrink-0 rounded-start">
                                            <i class="demo-psi-file-word fs-1"></i>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h5 class="h1 mb-0">241</h5>
                                            <p class="h4 mb-0">대기콜</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-3">
                                <div class="card bg-purple text-white">
                                    <div class="card-body py-3 d-flex align-items-stretch">
                                        <div class="d-flex align-items-center justify-content-center flex-shrink-0 rounded-start">
                                            <i class="demo-psi-file-zip fs-1"></i>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h5 class="h1 mb-0">00:00:00</h5>
                                            <p class="h4 mb-0">예상응대호대기시간</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-3">
                                <div class="card bg-orange text-white">
                                    <div class="card-body py-3 d-flex align-items-stretch">
                                        <div class="d-flex align-items-center justify-content-center flex-shrink-0 rounded-start">
                                            <i class="demo-psi-camera-2 fs-1"></i>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h5 class="h1 mb-0">00:00:00</h5>
                                            <p class="h4 mb-0">최장대기시간</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-3">
                                <div class="card bg-pink text-white">
                                    <div class="card-body py-3 d-flex align-items-stretch">
                                        <div class="d-flex align-items-center justify-content-center flex-shrink-0 rounded-start">
                                            <i class="demo-psi-video fs-1"></i>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h5 class="h1 mb-0">00:00:00</h5>
                                            <p class="h4 mb-0">평균응대시간</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-12 mb-3">
                <div class="card">
                    <div class="card-body">

                        <h5 class="card-title">실시간 콜현황</h5>
                        <div id="_barChart" class="ct-chart" style="height:200px;"></div>
                        <div class="row">

                            <div class="mt-4 pt-3 d-flex justify-content-around border-top">
                                <div class="text-center">
                                    <h4 class="mb-1">1,345</h4>
                                    <small class="">인입호</small>
                                </div>
                                <div class="text-center">
                                    <h4 class="mb-1">23k</h4>
                                    <small class="">응대호</small>
                                </div>
                                <div class="text-center">
                                    <h4 class="mb-1">278</h4>
                                    <small class="">포기호</small>
                                </div>
                                <div class="text-center">
                                    <h4 class="mb-1">278</h4>
                                    <small class="">리다이렉트</small>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>


            <div class="col-lg-4 mb-3">
                <div class="card">
                    <div class="card-body">

                        <h5 class="card-title">처리 현황</h5>
                        <div id="_processChart" class="ct-chart" style="height:180px;"></div>

                    </div>
                </div>
            </div>

            <div class="col-lg-4 mb-3">
                <div class="card">
                    <div class="card-body">

                        <h5 class="card-title">상담원 현황</h5>
                        <div class="d-flex justify-content-around">
                            <div class="card bg-primary text-white mb-3 mb-xl-1">
                                <div class="p-2 text-center">
                                    <span class="display-6" style="font-size: 2rem;">10</span>
                                    </br>로그인
                                </div>
                            </div>
                            <div class="card bg-primary text-white mb-3 mb-xl-1">
                                <div class="p-2 text-center">
                                    <span class="display-6" style="font-size: 2rem;">5</span>
                                    </br>상담중
                                </div>
                            </div>
                            <div class="card bg-primary text-white mb-3 mb-xl-1">
                                <div class="p-2 text-center">
                                    <span class="display-6" style="font-size: 2rem;">4</span>
                                    </br>대기중
                                </div>
                            </div>
                            <div class="card bg-primary text-white mb-3 mb-xl-1">
                                <div class="p-2 text-center">
                                    <span class="display-6" style="font-size: 2rem;">1</span>
                                    </br>이&nbsp;석&nbsp;
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="col-lg-4 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">대기콜 현황</h5>

                        <div class="d-flex flex-column gap-3">
                            <div class="p-1 mb-1">
                                <div class="progress progress-xl mb-1">
                                    <div class="progress-bar bg-red-300" role="progressbar" style="text-align:left;width: 20%;" aria-valuenow="70" aria-valuemin="20" aria-valuemax="100">
                                        &nbsp;00 ~ 10초 대기
                                    </div>
                                </div>
                                <div class="progress progress-xl mb-1">
                                    <div class="progress-bar bg-red-400" role="progressbar" style="text-align:left;width: 20%;" aria-valuenow="60" aria-valuemin="20" aria-valuemax="100">
                                        &nbsp;11 ~ 20초 대기
                                    </div>
                                </div>
                                <div class="progress progress-xl mb-1">
                                    <div class="progress-bar bg-red-500" role="progressbar" style="text-align:left;width: 20%;" aria-valuenow="50" aria-valuemin="20" aria-valuemax="100">
                                        &nbsp;21 ~ 30초 대기
                                    </div>
                                </div>
                                <div class="progress progress-xl mb-1">
                                    <div class="progress-bar bg-red-600" role="progressbar" style="text-align:left;width: 20%;" aria-valuenow="40" aria-valuemin="20" aria-valuemax="100">
                                        &nbsp;31 ~ 40초 대기
                                    </div>
                                </div>
                                <div class="progress progress-xl mb-1">
                                    <div class="progress-bar bg-red-700" role="progressbar" style="text-align:left;width: 20%;" aria-valuenow="30" aria-valuemin="20" aria-valuemax="100">
                                        &nbsp;41 ~ 50초 대기
                                    </div>
                                </div>
                                <div class="progress progress-xl mb-1">
                                    <div class="progress-bar bg-red-800" role="progressbar" style="text-align:left;width: 20%;" aria-valuenow="20" aria-valuemin="20" aria-valuemax="100">
                                        &nbsp;51 ~ 60초 대기
                                    </div>
                                </div>
                                <div class="progress progress-xl">
                                    <div class="progress-bar bg-red-900" role="progressbar" style="text-align:left;width: 20%;" aria-valuenow="0" aria-valuemin="20" aria-valuemax="100">
                                        &nbsp;60초 이상 대기
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>
</html>